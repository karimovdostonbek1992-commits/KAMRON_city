<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KAMRON | Premium System</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #0a0a0a; color: white; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1); }
        .gold-text { background: linear-gradient(90deg, #d4af37, #f2d06b); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .input-premium { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: white; padding: 12px; width: 100%; outline: none; border-radius: 4px; }
        .input-premium:focus { border-color: #d4af37; }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const App = () => {
            const [view, setView] = useState('customer'); // customer, gate, login, panel
            const [role, setRole] = useState('');
            const [pass, setPass] = useState('');
            const [cart, setCart] = useState([]);
            const [customer, setCustomer] = useState({ name: '', phone: '', address: '' });

            const CODES = { GATE: "mx097aixom", manager: "189sidnetbosss", admin: "11wer9hk", courier: "buysel78ui" };

            // 1. Darvoza kodini tekshirish
            const checkGate = () => {
                if (pass === CODES.GATE) { setView('login'); setPass(''); } 
                else { alert("Darvoza kodi xato!"); }
            };

            // 2. Rol parolini tekshirish
            const checkLogin = () => {
                if (pass === CODES[role]) { setView('panel'); setPass(''); } 
                else { alert("Shaxsiy parol xato!"); }
            };

            return (
                <div className="min-h-screen flex flex-col">
                    {/* Header */}
                    <nav className="p-8 md:px-20 flex justify-between items-center border-b border-white/5 sticky top-0 bg-[#0a0a0a]/90 backdrop-blur-md z-50">
                        <div onClick={() => setView('customer')} className="cursor-pointer">
                            <h1 className="text-2xl font-black italic gold-text uppercase tracking-tighter">Kamron</h1>
                        </div>
                        <div className="text-[10px] font-bold uppercase tracking-[0.3em] text-gray-500">Premium Dining</div>
                    </nav>

                    <main className="flex-grow p-6 md:px-20 py-12">
                        {/* --- MIJOZ PANELI --- */}
                        {view === 'customer' && (
                            <div className="grid lg:grid-cols-12 gap-12 fade-in">
                                <div className="lg:col-span-7 space-y-8">
                                    <h2 className="text-4xl font-light italic">Menyu</h2>
                                    <div className="grid md:grid-cols-2 gap-6">
                                        {[
                                            {id: 1, name: "Wagyu Fillet", price: 850000, img: "https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=400"},
                                            {id: 2, name: "Black Pasta", price: 420000, img: "https://images.unsplash.com/photo-1626074353765-517a681e40be?q=80&w=400"}
                                        ].map(p => (
                                            <div key={p.id} onClick={() => setCart([...cart, p])} className="glass p-4 rounded cursor-pointer hover:border-yellow-600 transition-all">
                                                <img src={p.img} className="w-full h-40 object-cover mb-4 opacity-80" />
                                                <div className="flex justify-between font-bold text-sm">
                                                    <span>{p.name}</span>
                                                    <span className="text-yellow-500">{p.price.toLocaleString()}</span>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                                <div className="lg:col-span-5">
                                    <div className="glass p-8 rounded-lg sticky top-32 space-y-6">
                                        <h3 className="text-xs font-bold uppercase tracking-widest text-yellow-600">Buyurtma berish</h3>
                                        <div className="space-y-3">
                                            <input placeholder="Ismingiz" className="input-premium" onChange={e => setCustomer({...customer, name: e.target.value})} />
                                            <input placeholder="Telefon" className="input-premium" onChange={e => setCustomer({...customer, phone: e.target.value})} />
                                            <textarea placeholder="Manzil" className="input-premium h-20" onChange={e => setCustomer({...customer, address: e.target.value})} />
                                        </div>
                                        <div className="border-t border-white/10 pt-4 flex justify-between font-bold">
                                            <span>Jami:</span>
                                            <span className="text-xl text-yellow-500">{cart.reduce((a,b)=>a+b.price, 0).toLocaleString()} UZS</span>
                                        </div>
                                        <button className="w-full bg-yellow-600 text-black py-4 font-black uppercase text-[10px] tracking-widest hover:bg-yellow-500 transition-all" onClick={() => alert("Buyurtma qabul qilindi!")}>Tasdiqlash</button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* --- 1-BOSQICH: DARVOZA --- */}
                        {view === 'gate' && (
                            <div className="max-w-xs mx-auto py-32 text-center space-y-8 fade-in">
                                <h2 className="text-[10px] font-bold uppercase tracking-[0.5em] text-gray-500">Security Gate</h2>
                                <input type="password" autoFocus placeholder="GATE CODE" className="input-premium text-center tracking-[1em]" onChange={e => setPass(e.target.value)} onKeyDown={e => e.key === 'Enter' && checkGate()} />
                                <button onClick={checkGate} className="text-[10px] font-bold border border-white/20 px-8 py-3 hover:bg-white hover:text-black">ENTER</button>
                            </div>
                        )}

                        {/* --- 2-BOSQICH: LOGIN --- */}
                        {view === 'login' && (
                            <div className="max-w-xs mx-auto py-32 text-center space-y-6 fade-in">
                                <h2 className="text-[10px] font-bold uppercase tracking-[0.4em] text-yellow-600">Select Role</h2>
                                <select className="input-premium uppercase text-[10px] font-bold tracking-widest" onChange={e => setRole(e.target.value)}>
                                    <option value="">Tanlang</option>
                                    <option value="manager">Boshliq</option>
                                    <option value="admin">Admin</option>
                                    <option value="courier">Kuryer</option>
                                </select>
                                <input type="password" placeholder="PASSWORD" className="input-premium text-center tracking-[0.5em]" onChange={e => setPass(e.target.value)} onKeyDown={e => e.key === 'Enter' && checkLogin()} />
                                <button onClick={checkLogin} className="w-full bg-white text-black py-4 text-[10px] font-bold uppercase tracking-widest">Login</button>
                            </div>
                        )}

                        {/* --- 3-BOSQICH: PANEL --- */}
                        {view === 'panel' && (
                            <div className="max-w-4xl mx-auto space-y-12 fade-in">
                                <div className="flex justify-between items-end border-b border-white/10 pb-6">
                                    <h2 className="text-2xl font-light italic uppercase tracking-tighter">{role} <span className="text-gray-600">Panel</span></h2>
                                    <button onClick={() => setView('customer')} className="text-[10px] text-red-500 font-bold border border-red-500/20 px-6 py-2">EXIT</button>
                                </div>
                                <div className="grid md:grid-cols-3 gap-6">
                                    <div className="glass p-8 text-center"><p className="text-[9px] text-gray-500 uppercase font-bold mb-2">Bugungi Tushum</p><p className="text-2xl font-bold text-yellow-500 italic">24,500,000</p></div>
                                    <div className="glass p-8 text-center"><p className="text-[9px] text-gray-500 uppercase font-bold mb-2">Buyurtmalar</p><p className="text-2xl font-bold italic">12</p></div>
                                    <div className="glass p-8 text-center"><p className="text-[9px] text-gray-500 uppercase font-bold mb-2">Status</p><p className="text-2xl font-bold text-green-500 italic">Online</p></div>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Footer & Maxfiy Nuqta */}
                    <footer className="p-10 border-t border-white/5 flex flex-col items-center space-y-4 opacity-30 hover:opacity-100 transition-all">
                        <p className="text-[8px] uppercase tracking-[0.5em] text-gray-600 italic">Â© 2026 Kamron Private System</p>
                        {/* MANA SHU NUQTANI BOSING */}
                        <div 
                            onClick={() => { console.log("Gate triggered"); setView('gate'); }} 
                            className="w-1 h-1 bg-white/20 cursor-pointer hover:bg-yellow-600"
                            title="Admin Access"
                        ></div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
